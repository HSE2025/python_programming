---
marp: true
header: 
footer: ![height:40px](https://www.markslides.ai/image/credit.png)
paginate: false
class: normal
theme: default
size: 16:9
style: |
  pre {
    overflow: auto;
  }
---

# 3. Коллекции: списки и кортежи в Python

> Сегодня: **списки** как базовая коллекция + минимальные условия `if`. 

---

## DraCor https://dracor.org/
- Открытая инфраструктура драматических корпусов с TEI-разметкой и **публичным API**

![bg right](https://cdn.markslides.ai/users/2662/images/hF9H9iWyrow5hKGGIf1kS)

---
# Типы данных в Python
- строка (string)
- число (int, float)
- **булевые** (bool)
- **список** (list)
- кортеж (tuple)

---

# Истинность (truthiness) в Python — идея

Что такое “истинность” объекта?

**Ложные** (False): 0, 0.0, "" (пустая строка), [], (), {}, None, False

```python
bool(0), bool(""), bool(0.0), bool([]), bool(()), bool({}), bool(None)
```

**Истинные** (True): всё остальное (любая непустая строка/коллекция и ненулевое число).

```python
bool(1), bool(-3), bool(2.5), bool("0"), bool(" ")
```

---

Пустые контейнеры и пустая строка → False.

Любая непустая строка (даже "0", "False") → True.

Ноль → False; любое ненулевое число → True.

---


# Что такое список (list)
- Литерал: `[]`, элементы через запятую  
- Гетерогенный: в списке могут быть строки, числа и др. объекты  
- Индексы/срезы как у строк, **но список изменяемый**

```python
characters_empty = []

characters = ["Гамлет", "Офелия", "Клавдий"]
characters[0], characters[-1], characters[:2]

numbers = [1, 3, 5, 7]

mixed_list = [1, "Борис Годунов", True]
```
---
## Базовые функции Python для списков

```python
characters = ["Гамлет", "Офелия", "Клавдий"]
len(characters)
```
3
```python
numbers = [1, 2, 3]
sum(characters)
```
6

---

## Базовые операции со списками
- Конкатенация: `a + b`, умножение: `["ла"] * 3`

```python
a = ["Гамлет", "Офелия"]
b = ["Клавдий"]
ab = a + b                   # новый список, исходные a и b не меняются
```
["Гамлет", "Офелия", "Клавдий"]


```python
la = ["ля"] * 3              # повторение элементов n раз
```
['ля', 'ля', 'ля']

---
# Принадлежность (in)
```python
chars = ["Гамлет", "Офелия", "Клавдий"]
"Гамлет" in chars
```
True
```python
"Гам" in chars      # подстрока НЕ считается
```
False
```python
unknown_in = "Полоний" in chars
```
False

---

# Как превратить список в строку

```python
characters = ["Гамлет", "Офелия", "Клавдий"]
print(", ".join(characters))
```
'Гамлет, Офелия, Клавдий'

---

# Как превратить строку в список

```python
line = 'Гамлет, Офелия, Клавдий'
line.split(", ")
```
["Гамлет", "Офелия", "Клавдий"]

---

## Методы списков
- Добавление: `.append(x)`, `.extend(iterable)`, `.insert(i, x)`
- Удаление: `.pop([i])` (возвращает элемент), `.remove(x)`, `.clear()`
- Поиск: `.index(x)`, `.count(x)`
- Порядок: `.sort()` (на месте), `.reverse()`

```python
words = ["ночь", "буря", "любовь"]
words.append("гром")
words.remove("буря")
words.sort()          # алфавит
words.sort(key=len)   # по длине
```

---

## `list()` и копирование
```python
a = [1, 2, 3]
b = a[:]       # копия
c = list(a)    # копия
```
---

## Анти-капкан
1. `b = a` — не копия; меняете `b` → меняется `a`  
2. `remove(x)` — удаляет **первое** вхождение; если `x` нет → `ValueError`  
3. `pop()` без индекса — с конца; с индексом возможен `IndexError`  
4. `sort()` меняет список **на месте** и возвращает `None` (используйте `sorted()` для новой копии)  
5. Не смешивайте типы в `sort()` — может быть `TypeError`

---

## Шпаргалка (сегодня)
- Создание: `[]`, `list(iterable)`  
- Методы: `append`, `extend`, `insert`, `pop`, `remove`, `clear`, `index`, `count`, `sort`, `reverse`  
- Копия: `lst[:]`, `lst.copy()` (поверхностная)  
- Проверки: `x in lst`, `if lst: ...`  
- Условия: `if / elif / else` (отступ 4 пробела)

---

## Кортеж (tuple): что умеет и чего нет

Что это: упорядоченная неизменяемая коллекция. Хорош для «записей» фиксированной структуры.

Литерал: (); одиночный кортеж — с запятой: ('слово',).

---

# Кортеж

- Доступ по индексу и срезы: как у списков (но только чтение).
- Длина и проверки: len(t), x in t.
- Распаковка: name, year = ('Дубровский', 1833).
- Преобразования: tuple(list_obj), list(tuple_obj).

Методы (всего два):
- t.count(x) — сколько раз встречается x;
- t.index(x) — позиция первого x (или ValueError).

---

### Когда выбирать кортеж

- Данные фиксированной формы: (Автор, Произведение, Год).
- Нужна «защита от случайных изменений».

### Анти-капкан: скобки не делают кортеж — делает запятая.
- ('слово') → строка; ('слово',) → кортеж.